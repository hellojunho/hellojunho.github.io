---
layout: single
title: "ì¿ í‚¤ì™€ ì„¸ì…˜ì— ëŒ€í•´ì„œ..."
toc: true
toc_sticky: true
toc_label: "ëª©ì°¨"
categories: WEB
excerpt: "Flaskë€?"
tag: [WEB]
---

# ğŸ“˜ ì¿ í‚¤ì™€ ì„¸ì…˜ì— ëŒ€í•´ì„œ...
`ì¿ í‚¤`ì™€ `ì„¸ì…˜`ì€ ì›¹ì—ì„œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ë„êµ¬ë“¤ì´ë‹¤.  
ì£¼ë¡œ, `ê°œì¸í™”ëœ ë°ì´í„°`ë¥¼ ë‹¤ë£° ë•Œ ì‚¬ìš©í•˜ê³ , `ê°œì¸í™”ëœ ë°ì´í„°`ë€, `ë¸Œë¼ìš°ì €ë³„ë¡œ êµ¬ë³„ ê°€ëŠ¥í•œ ë°ì´í„°` ì´ë‹¤.  ì˜ˆì‹œë¡œëŠ”, `ë¡œê·¸ì¸` ì •ë„ê°€ ìˆë‹¤.  

## 1. ì¿ í‚¤
ì¿ í‚¤ëŠ” `ë¸Œë¼ìš°ì €`ì— ì €ì¥ë˜ëŠ” ë°ì´í„°ë¥¼ ë§í•œë‹¤.  
ì›¹ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì¤‘ í•˜ë‚˜ê°€ ë°”ë¡œ `ìš”ì²­`ê³¼`ì‘ë‹µ`ì´ë‹¤.  
ì¿ í‚¤ì—ì„œ ìš”ì²­ ì¦‰, `HttpServletRequest`ì— í•´ë‹¹í•˜ëŠ” ê²ƒì€ `getCookie`ë¡œ ì¿ í‚¤ ì¡°íšŒ ê¸°ëŠ¥ì´ë‹¤.  
ì‘ë‹µ ì¦‰, `HttpServletResponse`ì— í•´ë‹¹í•˜ëŠ” ê²ƒì€ `setCookie`ë¡œ ì¿ í‚¤ ë“±ë¡ ê¸°ëŠ¥ì´ë‹¤.  

### 1-1. ì¿ í‚¤ ì €ì¥
ë¸Œë¼ìš°ì €ì—ì„œ ì¿ í‚¤ë¥¼ ì €ì¥í•  ë•ŒëŠ” `Set-Cookie`í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ `í‚¤=ê°’`í˜•ì‹ìœ¼ë¡œ ì €ì¥í•œë‹¤.  

### 1-2.  ì¿ í‚¤ í˜¸ì¶œ
ë¸Œë¼ìš°ì €ê°€ ì„œë²„ì— `ìš”ì²­`ì„ í†µí•´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.  

--- 

## 2. ì¿ í‚¤ ì‚¬ìš© ì˜ˆì œ

java ì½”ë“œë¡œ ì¿ í‚¤ë¥¼ ì‚¬ìš©í•´ë³´ì.  
```
@RestController
public class CookieExamController {
	@GetMapping("/ex01")
	public void exam(HttpServletResponse rs) {
		Cookie cookie = new Cookie("key1", "value1");
        cookie.setMaxAge(60 * 60 * 24 * 7);	// ì¿ í‚¤ ë§Œë£Œ ì‹œê°„ ì„¤ì •: 1ì£¼ì¼ ë’¤ ì¿ í‚¤ ë§Œë£Œ
		rs.addCookie(cookie);	// ì‘ë‹µ í—¤ë”: Set-Cookie : key1=value1
	}
}
```
ìœ„ ì½”ë“œë¥¼ ì…ë ¥í•˜ê³ , ì„œë²„ì™€ í•¨ê»˜ ì‹¤í–‰í•´ë³´ì.  
í™”ë©´ì—ëŠ” ì•„ë¬´ ê²ƒë„ ì¶œë ¥ë˜ì§€ ì•Šì§€ë§Œ  `f12`ë¥¼ ëˆŒëŸ¬ `ê°œë°œìë„êµ¬`ë¡œ ë“¤ì–´ê°€ì„œ ìƒˆë¡œê³ ì¹¨(`f5`)ë¥¼ í•´ë³´ë©´, ex01ì´ë¼ëŠ” ì´ë¦„ì˜ ì£¼ì†Œê°€ ë‚˜ì™€ìˆì„ê±´ë° ê·¸ê±¸ í´ë¦­í•´ì„œ ì—´ì–´ë³´ë©´ ì•„ë˜ì™€ ê°™ì´ ë‚˜ì˜¨ë‹¤.  

```
> Response Header
Connection: keep-alive
Content-Length: 0
Date: Tue, 15 Nov 2022 10:31:37 GMT
Keep-Alive: timeout=20
Set-Cookie: key1=value1
```
ì—¬ê¸°ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, `ì‘ë‹µ í—¤ë”`ì—ì„œ `Set-Cookie: key1=value1`í˜•ì‹ìœ¼ë¡œ ì¿ í‚¤ë¥¼ ì €ì¥í•œ ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.  

ë‹¤ìŒìœ¼ë¡œ ì¿ í‚¤ë¥¼ `ì¡°íšŒ`í•´ë³´ì.  

```
@GetMapping("/ex02")
public void exam2(HttpServletRequest rq) {
    Cookie[] cookies = rq.getCookies();
    
    for(Cookie cookie:cookies) {
        System.out.printf("name=%s, value=%s\n", cookie.getName(), cookie.getValue());
    }
}
```
ìœ„ ì½”ë“œë¥¼ ì¶”ê°€í•´ë³´ë©´, ì½˜ì†” ì°½ì— ë‚´ê°€ ë“±ë¡í•œ ì¿ í‚¤ì˜ ì •ë³´ë¥¼ `ì¡°íšŒ`í•  ìˆ˜ ìˆë‹¤.  
ë§ˆì°¬ê°€ì§€ë¡œ `f12`ë¥¼ ëˆŒëŸ¬ ì¿ í‚¤ ì •ë³´ë¥¼ ì°¾ì•„ë³´ë©´

```
> Request Header
key1=value1; Idea-9b46b357=2a35f0b5-d223-466f-b572-fb3bf1131e42; _xsrf=2|8a3111ba|28a2b91ab6eab1bf2c74d869a4c98e20|1668274061; username-localhost-8888="2|1:0|10:1668479275|23:username-localhost-8888|44:ZjBjMzk2YjhkYjAwNDhkYTg4NmVjMTkxNzEzMzhiYmY=|704f56e52b3773386317885a767ea947455988928efa4e5641174da5af0de01a"
```
ìœ„ì™€ ê°™ì´ `ìš”ì²­ í—¤ë”`ì— ì¿ í‚¤ì— ëŒ€í•œ ì •ë³´ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.  

ìœ„ì˜ ë°©ì‹ì´ ë„ˆë¬´ ê¸¸ì–´ ë²ˆê±°ë¡œìš°ë©´
```
@GetMapping("/ex03")
public void exam3(@CookieValue("key1") String name) {
    System.out.println(name);
}
```
ìœ„ì™€ ê°™ì´ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.  

---
 
## 2. ì„¸ì…˜