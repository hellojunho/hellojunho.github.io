---
layout: single
title: "Loggerì— ëŒ€í•´ì„œ..."
toc: true
toc_sticky: true
toc_label: "ëª©ì°¨"
categories: java
excerpt: ""
tag: [Logger, Spring]

---

# ğŸ“˜Loggerì— ëŒ€í•´ì„œ...
ëª¨ë“  í–‰ìœ„ì™€ ì´ë²¤íŠ¸ ì •ë³´ë¥¼ ì‹œê°„ì˜ ê²½ê³¼ì— ë”°ë¼ ê¸°ë¡í•œ ë°ì´í„° ì‹œìŠ¤í…œ ìƒì—ì„œ `ë¡œê·¸` ë¥¼ ìƒì„±í•˜ëŠ” ê³¼ì •ì„ `ë¡œê¹…(Logging)` ì´ë¼ê³  í•œë‹¤.
<br>

ë¡œê¹…(logging)ì˜ ì¥ì 
: ê°œë°œ í”„ë¡œê·¸ë¨ì˜ ë””ë²„ê¹… ì˜ˆê¸°ì¹˜ ëª»í•œ ë¬¸ì œì˜ ì›ì¸ íŒŒì•… ì‹œìŠ¤í…œ ë° ì‚¬ìš©ìì˜ ë™ì‘ íŒ¨í„´ ë¶„ì„ í•´í‚¹(ì¹¨ì…)ì˜ ë¹„ì •ìƒ ë™ì‘ì˜ ê¸°ë¡ì„ ê°ì§€ ë¶„ì„ì„ í†µí•œ í†µê³„í™”

## 1. Logger ë¼ì´ë¸ŒëŸ¬ë¦¬
Logback, Log4J ë“±ì´ ìˆì§€ë§Œ ìŠ¤í”„ë§ë¶€íŠ¸ì—ì„œ ì´ ê²ƒë“¤ì„ í†µí•©í•´ì„œ ì“°ëŠ” ê²ƒì´ ë°”ë¡œ `SLF4J`ì´ë‹¤.  

## 2. Log ì„ ì–¸
[1ë²ˆ ì˜ˆì œ]    
```java
// 1ë²ˆ
private final Logger log = LoggerFactory.getLogger(getClass());
// 2ë²ˆ
private static final Logger log = LoggerFactory.getLogger(Xxx.class)
// 3ë²ˆ
@Slf4j
public class LogTestController {
}
```
<br>

[2ë²ˆ ì˜ˆì œ]  
```java
    public TraceStatus begin(String message) {
        TraceId traceId = new TraceId();
        Long startTimeMs = System.currentTimeMillis();
        log.info("[{}] {}{}", traceId.getId(), addSpace(START_PREFIX, traceId.getLevel()), message);    // ë¡œê·¸ í˜¸ì¶œ

        // ë¡œê·¸ ì¶œë ¥
        return new TraceStatus(traceId, startTimeMs, message);
    }
```  


## 3. ë¡œê·¸ ë ˆë²¨
*ë¡œê·¸ì—ëŠ” ë ˆë²¨ì´ ìˆë‹¤!*  
```java
trace -> debug -> info -> warn -> error   
```  
- ì¼ë°˜ì ìœ¼ë¡œ ê°œë°œ ì„œë²„ëŠ” debug, ìš´ì˜ ì„œë²„ëŠ” infoë¡œ ì„¤ì •í•¨.  

[ë¡œê·¸ í˜¸ì¶œ]  
```java
@Slf4j
@RestController
public class LogTestController {

    @RequestMapping("/log-test")
    public String logTest(){
        // ë¡œê·¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì´ìš©í•œ ì¶œë ¥
        log.trace("trace log={}", name);
        log.debug("debug log={}", name);
        log.info("info log={}", name);
        log.warn("warn log={}", name);
        log.error("error log={}", name);

        return "ok";
    }
}
```
