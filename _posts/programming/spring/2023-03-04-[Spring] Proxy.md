---
layout: single
title: "π“[Spring] Proxy(ν”„λ΅μ‹)λ€?"
toc: true
toc_sticky: true
toc_label: "λ©μ°¨"
categories: spring
excerpt: ""
tag: [java, proxy]
---

# Proxy(ν”„λ΅μ‹)λ€?
`Proxy(ν”„λ΅μ‹)`λ€ μ‚¬μ „μ  μλ―Έλ΅λ” "λ€λ¦¬"λΌλ” μλ―Έλ΅, ν”„λ΅ν† μ½μ— μμ–΄μ„ `λ€λ¦¬ μ‘λ‹µ`μ„ ν•λ” μ—­ν• μ΄λΌκ³  ν•  μ μλ‹¤.  
λ³΄μ•μƒμ λ¬Έμ λ΅ μ§μ ‘ ν†µμ‹ μ„ μ£Όκ³  λ°›μ„ μ μ—†λ” μ‚¬μ΄μ—μ„ ν”„λ΅μ‹λ¥Ό μ΄μ©ν•΄μ„ μ¤‘κ³„λ¥Ό ν•λ” κ°λ…μ΄λ‹¤.  
μ΄λ° μ„λ²„λ¥Ό `ν”„λ΅μ‹ μ„λ²„`λΌκ³  ν•λ‹¤.  


## ν”„λ΅μ‹ μ„λ²„μ νΉμ§•?
ν”„λ΅μ‹ μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ μ…μ¥μΌλ΅ λ³Ό λ•, μ„λ΅ λ°λ€μ μ—­ν• μ„ ν•λ” κ²ƒμ²λΌ λ³΄μΈλ‹¤.  
ν΄λΌμ΄μ–ΈνΈκ°€ ν”„λ΅μ‹λ¥Ό λ°”λΌλ³΄λ©΄ ν”„λ΅μ‹κ°€ "μ„λ²„"μ μ—­ν• μ„ ν•λ” κ²ƒμ²λΌ λ³΄μ΄κ³ , μ„λ²„κ°€ ν”„λ΅μ‹λ¥Ό λ°”λΌλ³΄λ©΄ "ν΄λΌμ΄μ–ΈνΈ"μ μ—­ν• μ„ ν•λ” κ²ƒμ²λΌ λ³΄μΈλ‹¤.  
<br>

```
[μ„λ²„] <-> [ν”„λ΅μ‹ μ„λ²„] <-> ν΄λΌμ΄μ–ΈνΈ
```  

*κ·Έλ¬λ©΄ ν”„λ΅μ‹λ” λ³΄μ•μ μΈ μΈ΅λ©΄μ΄ μ•„λ‹λ©΄ μ‚¬μ©ν•μ§€ μ•μ•„λ„ λ κΉ?*  
ν”„λ΅μ‹λ” λ‹¨μ λ³΄μ• λ¬Έμ λ•λ¬Έμ—λ§ μ‚¬μ©ν•λ” κ²ƒμ€ μ•„λ‹λ‹¤.  
ν”„λ΅μ‹λ” `ν”„λ΅μ‹ μ„λ²„`μ— μ”μ²­λ λ‚΄μ©λ“¤μ„ `μΊμ‹`λ¥Ό μ΄μ©ν•΄ μ €μ¥ν•λ‹¤.  
λ°μ΄ν„°λ¥Ό μ €μ¥ν•΄λ‘λ©΄, λ‚μ¤‘μ— λ‹¤μ‹ μ”μ²­ν•  λ• μ²μλ¶€ν„° μ²λ¦¬ν•λ” κ²ƒμ΄ μ•„λ‹λΌ μ €μ¥ν•΄λ‘” λ°μ΄ν„°λ¥Ό κ°€μ Έλ‹¤ μ“°λ©΄ λλ―€λ΅ `μ „μ†΅ μ‹κ°„ μ μ•½`μ μΈ μΈ΅λ©΄μ—μ„λ„ μ¥μ μ΄ μμ–΄ λ§μ΄ μ‚¬μ©ν•λ‹¤.  

### μμ‹
**μμ‹ 1.**  
λ‚΄κ°€ μ—„λ§ν•ν… λΌλ©΄μ„ μ‚¬λ‹¬λΌκ³  λ¶€νƒν•¨. -> μ—„λ§λ” "μ§‘μ— λΌλ©΄ μλ”λ°?"λΌκ³  λ‹µν•¨. -> κ·Έλ¬λ©΄ λ‚λ” λ‚΄ μμƒλ³΄λ‹¤ λ” λΉ¨λ¦¬ λΌλ©΄μ„ λ¨Ήμ„ μ μκ² λ¨.
<br>

μ΄μ λ” λΌλ©΄μ΄ μ§‘μ— `μΊμ‹`λμ—κΈ° λ•λ¬Έμ΄λΌκ³  μƒκ°ν•  μ μμ!  
μ΄λ” ν”„λ΅μ‹μ μ¥μ  μ¤‘ ν•λ‚μΈ `μ ‘κ·Ό μ μ–΄, μΊμ‹±`μΌλ΅ λ³Ό μ μλ‹¤.   
<br>

**μμ‹ 2.**  
μ•„λΉ ν•ν… μλ™μ°¨ μ£Όμ λ¥Ό λ¶€νƒ -> μ•„λΉ κ°€ μ£Όμ λ„ ν•΄μ¤¬λ”λ° μ„Έμ°¨κΉμ§€ λ¤μΌλ΅ ν•΄μ¤ -> λ‚΄κ°€ λ¶€νƒν•(κΈ°λ€ν•) κ²ƒ μ™Έμ— λ¶€κ°€ κΈ°λ¥μ„ μ–»μ.
<br>

ν”„λ΅μ‹μ μ¥μ  μ¤‘ ν•λ‚μΈ `λ¶€κ°€κΈ°λ¥ μ¶”κ°€`λ΅ λ³Ό μ μλ‹¤. 
<br>

**μμ‹ 3.**  
μλ¥Ό λ“¤μ–΄, μ—„λ§ν•ν… λΌλ©΄μ„ μ‚¬λ‹¬λΌκ³  ν–λ”λ° μ—„λ§κ°€ λ™μƒν•ν… μ‹μΌ°λ‹¤κ³  ν•΄λ³΄μ.  
λ‚λ” μ”μ²­μ„ μ—„λ§ν•ν… ν•΄μ„ μ΄ν›„ κ³Όμ •μ€ λ¨λ¥Έλ‹¤.  
κ·Έλλ„ κ²°κµ­ λ™μƒμ΄ λΌλ©΄μ„ μ‚¬μ™€ λ‚μ—κ² λ„μ°©ν•κΈ°λ§ ν•λ©΄ λλ‹¤.  
<br>

μ΄ κ²ƒμ€ ν”„λ΅μ‹μ μ¥μ  μ¤‘ ν•λ‚μΈ `ν”„λ΅μ‹ μ²΄μΈ`μΌλ΅ λ³Ό μ μλ‹¤.  

## ν”„λ΅μ‹ μ„λ²„
ν”„λ΅μ‹ μ„λ²„λ” 2κ°€μ§€λ΅ λ‚λ μ μλ‹¤.  
1. Forward Proxy
2. Reverse Proxy

### Forward Proxy
`ν¬μ›λ“ ν”„λ΅μ‹`λ” ν΄λΌμ΄μ–ΈνΈ λ€μ‹  ν”„λ΅μ‹ μ„λ²„κ°€ λ©μ μ§€ μ„λ²„μ— ν†µμ‹ μ„ κµ¬μ„±ν•΄μ£Όλ” ν”„λ΅μ‹λ¥Ό λ§ν•λ‹¤.  
ν¬μ›λ“ ν”„λ΅μ‹λ¥Ό μ‚¬μ©ν•λ©΄ μ•„λμ™€ κ°™μ΄ ν†µμ‹ μ΄ κµ¬μ„±λλ‹¤.  
```
ν΄λΌμ΄μ–ΈνΈ -> [IP: 200.000.0.0] ν”„λ΅μ‹ μ„λ²„ -> [http://example.co.kr] λ©μ μ§€ μ„λ²„ -> ν”„λ΅μ‹ μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ
```  
ν΄λΌμ΄μ–ΈνΈλ” μ›Ή μ„λ²„μ— μ§μ ‘μ μΌλ΅ μ ‘μ†ν•λ”κ° μ•„λ‹λΌ ν¬μ›λ“ ν”„λ΅μ‹μ— μ ‘μ†ν•κ³ , ν”„λ΅μ‹ μ„λ²„κ°€ μ›Ή μ„λ²„μ— μ ‘μ†ν•΄ μ”μ²­μ„ μ „λ‹¬ν•λ‹¤.  
μ”μ²­μ„ μ²λ¦¬ν• ν›„ μ‘λ‹µμ„ λ‹¤μ‹ **μ›Ή μ„λ²„ -> ν”„λ΅μ‹ μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ**μ κ²½λ΅λ¥Ό ν†µν•΄ μ „λ‹¬ν•λ‹¤.  

#### Forward Proxyμ μ¥μ 
1. μΊμ‹ μ €μ¥
   - ν”„λ΅μ‹ μ„λ²„μ— μ‚¬μ©μ μ”μ²­μ„ μΊμ‹λ¥Ό μ΄μ©ν•΄ μ €μ¥ν•μ—¬ μ „μ†΅μ‹κ°„μ„ μ μ•½ν•  μ μλ‹¤.  
2. URL ν•„ν„°λ§
   - μ™Έλ¶€ μ ‘κ·Όμ€ λ¨λ‘ ν”„λ΅μ‹ μ„λ²„λ¥Ό ν†µν•΄μ•Ό ν•λ―€λ΅, λ©μ μ§€ μ„λ²„λ΅ κ°€λ ¤λ©΄ ν”„λ΅μ‹ μ„λ²„μ—μ„ URL ν•„ν„°λ§μ„ ν†µν• ν›„ κ° μ μλ‹¤.  


### Reverse Proxy
`λ¦¬λ²„μ¤ ν”„λ΅μ‹`λ” ν¬μ›λ“ ν”„λ΅μ‹μ™€λ” λ‹¬λ¦¬ **μ›Ή μ„λ²„μ½μ— μ„μΉ**ν•λ‹¤.  
<br>

*κ·Έλ¬λ©΄ μ–΄λ–»κ² λλ”λ°?*  
ν΄λΌμ΄μ–ΈνΈμ μ ‘κ·Όμ„ μµμ΄λ΅ λ°›μ•„ μ”μ²­μ— ν•΄λ‹Ήν•λ” μ›Ή μ„λ²„μ— λ°°λ¶„ν•΄μ£Όλ” μ—­ν• μ„ ν•λ‹¤.  
ν¬μ›λ“ ν”„λ΅μ‹λ” [IP:200.000.0.0]μ„ κ°€μ§„ μ„λ²„μ€λ‹¤λ©΄, λ¦¬λ²„μ¤ ν”„λ΅μ‹λ” μ•„λμ™€ κ°™λ‹¤.  
```
ν΄λΌμ΄μ–ΈνΈ -> [http://example.co.kr] ν”„λ΅μ‹ μ„λ²„ -> [IP: 200.000.0.0] μ›Ή μ„λ²„1
                                           -> [IP: 300.000.0.0] μ›Ή μ„λ²„2
```  
ν΄λΌμ΄μ–ΈνΈκ°€ `http://example.co.kr/content1` μ— μ ‘κ·Όν•λ©΄ μ›Ή μ„λ²„1λ΅, `~/content2`μ— μ ‘κ·Όν•λ©΄ μ›Ή μ„λ²„2λ΅ λ°°λ¶„ν•΄μ¤€λ‹¤.  

#### Reverse Proxyμ μ¥μ 
1. λ¶€λ‹΄ λ¶„μ‚°  
μ„¤μ •μΌλ΅ `μ •μ  μ½ν…μΈ `μ™€ `λ™μ  μ½ν…μΈ `μ λ³΄λ” κ³³μ„ λ‚λ„μ–΄, λ©”λ¨λ¦¬ μ‚¬μ©λ‰μ ν¨μ¨ν™”λ¥Ό ν•  μ μλ‹¤.  
λ΅λ“ λ°Έλ°μ¤μ™€ κ°™μ΄ μ‚¬μ©ν•λ©΄ λ”μ± λ¶€λ‹΄μ„ λ¶„μ‚°ν•  μ μλ‹¤.  

2. μΊμ‹ μ €μ¥  
ν¬μ›νΈ ν”„λ΅μ‹μ™€ λ™μΌν•κ² λ™μΌν• λ°μ΄ν„°λ¥Ό μ–»μ„ λ•μ— ν”„λ΅μ‹ μ„λ²„κ°€ μ €μ¥ν–λ λ‚΄μ©μ„ λλ ¤μ¤€λ‹¤.  

3. μ‹νλ¦¬ν‹° λ€μ±…, λ°”μ΄λ¬μ¤ λ€μ±…  
ν†µμ‹ μ‹ ν”„λ΅μ‹ μ„λ²„μ— μ§‘μ•½λμ–΄ ν”„λ΅μ‹ μ„λ²„ λ‚΄μ— μ‹νλ¦¬ν‹° λ€μ±…, λ°”μ΄λ¬μ¤ λ€μ±…μ„ κµ¬ν„ν•μ—¬ Web μ„λ²„λ΅μ λ¶€μ • μ•΅μ„Έμ¤, μ‚¬μ© λ“±μ„ λ°©μ§€ν•  μ μλ‹¤.  

# μ°Έκ³ μλ£
[https://engineer-mole.tistory.com/288](https://engineer-mole.tistory.com/288)  
[https://milkye.tistory.com/202](https://milkye.tistory.com/202)  