---
layout: single
title: "Docker에 대해서..."
toc: true
toc_sticky: true
toc_label: "목차"
categories: docker
excerpt: ""
tag: [docker]
---

# 📘Docker에 대해서...
`Docker(도커)`에 대해서 적어보겠다.  

## 1. Docker란?
`Docker`, 즉 도커는 애플리케이션을 신속하게 구축, 테스트 및 배포할 수 있는 소프트웨어 플랫폼이다.  
간단히 말하면 리눅스 `컨테이너`를 만들고, 사용할 수 있는 컨테이너화 기술이다.  
이 컨테이너에는 라이브러리, 시스템 도구, 코드, 런타임 등 소프트웨어를 실행하는 데 필요한 모든 것이 포함되어 있다.  
도커는 분리된 환경에서 프로그램을 실행하므로, 도커를 사용하면 환경에 구애받지 않고 애플리케이션을 신속하게 배포 및 확장할 수 있으며 코드가 문제없이 실행될 것임을 확신할 수 있습니다.  

## 2. 컨테이너는 뭘까?
도커의 의미를 확인했다.  
그러면 컨테이넌란 뭘까?  

`컨테이너`란, 운영 체제 가상화의 한 형태이다.  
단일 컨테이너는 작은 마이크로서비스 또는 소프트웨어 프로세스부터 대규모 애플리케이션에 이르는 모든 것을 실행하는 데 사용될 수 있다.  

위에서 설명된 것처럼, 컨테이너에는 소프트웨어를 실행하는 데 필요한 모든 것이 포함되어 있다.  
하지만, 운영체제 이미지는 포함되어 있지 않다.  

그렇기 때문에 가볍고, 휴대성이 좋으며 오버헤드가 현저히 낮아진다.  
여러 컨테이너를 한 이상의 `컨테이너 클러스터`로 구현할 수 있는데, 이런 클러스터는 `쿠버네티스(Kubernetes)`와 같은 컨테이너 오케스트레이터로 관리할 수 있다.  


### 2.1 컨테이너의 이점
컨테이너는 개발자의 로컬 노트북부터 온프레미스 데이터 센터 및 클라우드에 이르는 여러 환경에서 애플리케이션을 구축, 테스트, 구현 및 재구현할 수 있는 효율적인 방법이다.  
이로 인해 얻을 수 있는 이점은 다음과 같다.  
<br>

- 더 적은 오버헤드  
  컨테이너에는 운영체제 이미지가 미포함되어 있으므로, 기존 환경 또는 하드웨어 가상 머신 환경보다 시스템 리소스가 적게 필요함.
- 휴대성 향상  
  컨테이너에서 실행되는 애플리케이션은 여러 운영체제 및 하드웨어 플랫폼에서 쉽게 구현 가능.
- 보다 일관된 운영  
  `DevOps`팀에서 컨테이너에 애플리케이션을 구현하면 구현 위치와 관계 없이 동일하게 실행됨.
- 효율성 향상  
  컨테이너를 사용하면 애플리케이션의 구현, 패치 적용 또는 확장이 더 빨라짐
- 더 우수한 애플리케이션 개발  
  컨테이너는 애자일 및 `DevOps`작업을 지원하여 개발, 테스트 및 운영 주기를 단축함.

### 2.2 도커와 쿠버네티스와 컨테이너?
컨테이너 환경에서 일하는 사용자는 컨테이너를 구축 및 관리하는 데 사용되는 2가지 주요 툴과 플랫폼을 주로 사용한다.  
바로 `도커`와 `쿠버네티스`이다.  
<br>

도커는 컨테이너 내부에서 소프트웨어를 생성 및 구축하는 데 널리 사용되는 `런타임 환경`이다.  
도커를 사용하여 컨테이너식 애플리케이션을 개발한다고 하자.  
운영 환경에는 너무 많은 개별 컨테이너가 필요할 수도 있을텐데, 너무 복잡해보인다...  
<br>

그럴 때 사용하는 것이 바로 `쿠버네티스`이다.  
쿠버네티스는 도커를 비롯한 여러 컨테이너 런타임 환경을 인식하는 컨테이너 오케스트레이터이다.  
쿠버네티스는 여러 컨테이너의 작업을 `조율`한다.  
필요한 컴퓨팅, 네트워크, 스토리지 리소스 양 등 컨테이너식 애플리케이션의 기본 인프라 리소스 사용과 같은 영역을 관리한다.  

### 2.3 컨테이너와 가상머신(VM)?
컨테이너와 가상머신에 대해 헷갈리기 쉽다고 한다.  
이 둘은 유사한 점이 있긴 하지만 엄연히 다르다.  
<br>

가상머신은 `하이퍼바이저`라는 환경에서 실행되며, 각 가상머신에는 관련 바이너리, 라이브러리 및 애플리케이션 파일과 함께 자체 게스트 운영체제가 포함되어 있어야 한다.  
그래서 많은 양의 시스템 리소스 및 오버헤드가 소모된다.  
<br>

반면, 컨테이너는 동일한 호스트 운영체제 또는 시스템 커널을 공유하므로 크기가 훨씬 가볍다.  
참고로 컨테이너는 일반적으로 크키가 MB(메가바이트)정도이며, 컨테이너를 시작하는 데에 몇 초 정도가 걸린다.  
반대로 일반적인 가상머신은 크기가 GB(기가바이트)정도이며, 시작하는 데에 몇 분 정도가 소요될 수 있다.  
<br>

그렇다고 컨테이너가 무조건 좋을까?  
가상머신은 하드웨어 단위로 분리하는 가상화의 특성 때문에 완전히 격리되어있는 환경에서 실행되고, 이로 인해 보안적인 측면에서 더 안전하다.  
심지어 운영체제까지 들어가기 때문에 더 많은 운영체제를 사용할 수도 있다.

### 2.3.1 컨테이너와 가상환경의 비유
큰 집이 있다고 하자.  

서비스A, 서비스B 팀이 한 집에서 작업을 한다.  
그런데 A팀은 구 버전, B팀은 최신 버전의 프레임워크 혹은 툴을 사용한다고 하면 어떻게 될까?  
최신 버전에서는 돌아가는 것들이 구 버전에서는 돌아가지 않을 수 있는 "충돌"이 발생할 것이다...  
<br>

이 때, 가상환경을 사용해보자.  
가상환경을 사용한다는 것은 큰 집안에 작은 집 두 개를 새로 지어서 완전히 분리된 공간에서 작업하는 것과 같다.  
컴퓨터 자원을 전기와 수도라고 생각했을 때, 새로 지은 두 집이 서로 특정 비율로 분할해서 끌어갈 것이다.  
그렇게 되면 효율성을 떨어질 것이다.  
<br>

그렇다면 컨테이너는 어떻게 비유할 수 있을까?  
큰 집 안에 작업만을 위한 "작업 전용 공간"을 만드는 것이다.  
한 공간 안에 여럿이 들어갈 수도 있고, 각 공간들이 서로 연결되어 서비스를 실행할 수 있다.  
이 작업 공간들은 집에서 딱 필요한 만큼만 공간을 차지하고, 전기와 수도(컴퓨터 자원)를 함께 공유해서 쓰기 때문에 자원 낭비의 감소, 공간의 분리성으로 인한 다른 버전으로부터 생기는 혼란이 줄어든다.  
<br>

이제 배포 상황을 생각해보자.  
큰 집에서 서비스를 구현하여 작업을 마쳤다.  
배포를 하려면 개발용 컴퓨터에서 서비스를 배포할 서버용 컴퓨터로 작업물들을 옮겨야하는데, 큰 집에 있던 인원들이 서버용 집으로 이사를 하는 것과 같다.  
심지어 이 전 집에서의 환경도 동일하게...  
<br>

컨테이너를 사용하면, 각각 컨테이너들이 연결되어 작업을 마치고, 설계도를 작성할 수 있다.  
그러면 이 설계도를 서버용 집으로 전달해서 서버용 집에 작업용 공간 즉, 컨테이너를 다시 생성해서 실행시킬 수 있다.

## 3. 예제
유튜브에서 확인한 예제 동영상입니다.  
[얄팍한 코딩사전 - 가장 쉽게 배우는 도커](https://www.youtube.com/watch?v=hWPv9LMlme8&t=439s)