---
layout: single
title: "ğŸ“˜[1260] DFSì™€ BFS"
toc: true
toc_sticky: true
toc_label: "ëª©ì°¨"
categories: baekjoon
excerpt:
tag: [python, algorithms, stack, queue, dfs, bfs]
---


# ë¬¸ì œ

https://www.acmicpc.net/problem/1260

# ì˜ˆì œ ì…ë ¥ 1

```
4 5 1
1 2
1 3
1 4
2 4
3 4
```

# ì˜ˆì œ ì¶œë ¥ 1

```
1 2 4 3
1 2 3 4
```

# ì˜ˆì œ ì…ë ¥ 2

```
5 5 3
5 4
5 2
1 2
3 4
3 1
```

# ì˜ˆì œ ì¶œë ¥ 2

```
3 1 2 5 4
3 1 4 2 5
```

# ë‹µì•ˆ

```python
import sys
from collections import deque
# sys.setrecursionlimit(10000)

def dfs(v, visited):
    if v in visited:
        return
    visited.append(v)
    print(v, end=' ')
    for i in sorted(graph[v]):
        if i not in visited:
            dfs(i, visited)

def bfs(v, visited):
    queue = deque([v])
    visited.append(v)
    while queue:
        v = queue.popleft()
        print(v, end=' ')
        for i in sorted(graph[v]):
            if i not in visited:
                visited.append(i)
                queue.append(i)

input = sys.stdin.readline

n, m, v = map(int, input().split())
graph = [[] for _ in range(n + 1)]
visited = []

# ì¸ì ‘ë¦¬ìŠ¤íŠ¸ ë§Œë“¤ê¸°
for _ in range(m):
    a, b = map(int, input().split())
    graph[a].append(b)
    graph[b].append(a)

dfs(v, visited)
visited = []
print()
bfs(v, visited)
```

# í’€ì´

### DFSì˜ ì´í•´

ë¨¼ì € DFSì— ëŒ€í•œ ì´í•´ê°€ í•„ìš”í•¨.

ê°€ì¥ ê¹Šì´ ë‚´ë ¤ê°„ ë‹¤ìŒ, ê°ˆ ê¸¸ì´ ì—†ìœ¼ë©´ ì´ì „ ë¶„ê¸°ë¡œ ëŒì•„ì™€ ì˜† ë¦¬í”„ë¡œ ë„˜ì–´ê°€ëŠ” ë°©ì‹ì˜ íƒìƒ‰.

```python
def dfs(v, visited):
    if v in visited:
        return
    visited.append(v)
    print(v, end=' ')
    for i in sorted(graph[v]):
        if i not in visited:
            dfs(i, visited)
```

`visited`ë¼ëŠ” ë°©ë¬¸ ê¸°ë¡ì„ ë‚¨ê¸°ëŠ” ë¦¬ìŠ¤íŠ¸ê°€ í•„ìš”í•˜ê³ , í˜„ì¬ íƒìƒ‰ ì¤‘ì¸ ë…¸ë“œì¸ `v(vertex)`, ê·¸ë¦¬ê³  vì˜ ë¦¬í”„ ë…¸ë“œì— í•´ë‹¹í•˜ëŠ” `graph`ê°€ í•„ìš”í•¨.

ìœ„ ì½”ë“œë¥¼ ì•„ë˜ì²˜ëŸ¼ ë°”ê¿€ ìˆ˜ë„ ìˆìŒ.

```python
def dfs(v, visited, graph):
    if v in visited:
        return
    visited.append(v)
    print(v, end=' ')
    for i in sorted(graph[v]):
        if i not in visited:
            dfs(i, visited, graph)
```

ê²°êµ­ ê°™ì€ ë™ì‘ì¸ë°, `graph`ë§Œ ì¸ìë¡œ ì£¼ëƒ ë§ˆëƒì˜ ì°¨ì´.

ë™ì‘ ìˆœì„œëŠ” ì•„ë˜ì™€ ê°™ìŒ.

1. vë¥¼ ê¸°ì¤€ìœ¼ë¡œ íƒìƒ‰ ì‹œì‘
2. vê°€ ë°©ë¬¸ê¸°ë¡(visited)ì— ìˆìœ¼ë©´ return
3. ì—†ìœ¼ë©´ ë°©ë¬¸ê¸°ë¡ì— ì¶”ê°€í•œ í›„ í˜„ì¬ íƒìƒ‰ ì¤‘ì¸ ë…¸ë“œ ì¶œë ¥
4. ë¬¸ì œì—ì„œ `ë‹¨, ë°©ë¬¸í•  ìˆ˜ ìˆëŠ” ì •ì ì´ ì—¬ëŸ¬ ê°œì¸ ê²½ìš°ì—ëŠ” ì •ì  ë²ˆí˜¸ê°€ ì‘ì€ ê²ƒì„ ë¨¼ì € ë°©ë¬¸í•˜ê³ ` ë¼ëŠ” ì¡°ê±´ì´ ìˆê¸° ë•Œë¬¸ì— vì— ëŒ€í•œ ë¦¬í”„ ë…¸ë“œì¸ `graph[v]`ë¥¼ ì •ë ¬
5. ì´í›„ graphë¥¼ ìˆœíšŒí•˜ë©° ë¦¬í”„ ë…¸ë“œ ë³„ë¡œ ë°©ë¬¸ ê¸°ë¡ì— ìˆëŠ”ì§€ í™•ì¸
6. ë°©ë¬¸ ê¸°ë¡ì— ì—†ìœ¼ë©´ íƒìƒ‰ì„ ë‹¤ì‹œ í•´ì•¼í•˜ë‹ˆê¹Œ ì¬ê·€(DFS ì‹œì‘)

### BFSì˜ ì´í•´

BFSëŠ” ë„“ì´ ìš°ì„  íƒìƒ‰ìœ¼ë¡œ, ë°”ë¡œ ì•„ë˜ ë¦¬í”„ì˜ ì „ë¶€ë¥¼ íƒìƒ‰í•˜ê³  ë‹¤ìŒ ë¦¬í”„ë¡œ ë„˜ì–´ê°€ëŠ” íƒìƒ‰ ë°©ë²•.

ì¦‰, ìµœëŒ€í•œ ë„“ê²Œ ì´ë™í•œ ë‹¤ìŒ ë” ì´ìƒ ì´ë™í•  ìˆ˜ ì—†ì„ ë•Œ ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°.

```python
def bfs(v, visited):
    queue = deque([v])
    visited.append(v)
    while queue:
        node = queue.popleft()
        print(node, end=' ')
        for i in sorted(graph[node]):
            if i not in visited:
                visited.append(i)
                queue.append(i)
```

DFSì™€ ë§ˆì°¬ê°€ì§€ë¡œ `graph`ë¥¼ ì¸ìë¡œ ì¤„ ìˆ˜ë„ ìˆìŒ.

`BFS`ì˜ í° íŠ¹ì§• ì¤‘ í•˜ë‚˜ëŠ” `Queue`ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒ!

queueë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ pythonì˜ `deque`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì˜í•¨.

- `queue = deque([v])`
- `deque([v])`ë¥¼ í•¨ìœ¼ë¡œì¨, íƒìƒ‰ ì¤‘ì¸ ë…¸ë“œë¥¼ queueì˜ ì²« ë²ˆì§¸ ì¸ìë¡œ ì €ì¥
- íë¥¼ ì •ì˜í•˜ê³ , `queue.append(v)` ë¡œ í•  ìˆ˜ë„ ìˆìŒ.

ì´í›„, í˜„ì¬ íƒìƒ‰ ì¤‘ì¸ ë…¸ë“œë¥¼ ë°©ë¬¸ ê¸°ë¡ì— ì¶”ê°€í•˜ê³ , BFSì˜ ë³¸ê²©ì ì¸ íƒìƒ‰ ì‹œì‘.

DFSì™€ ë§ˆì°¬ê°€ì§€ì˜ ì´ìœ ë¡œ sortë¥¼ í•´ì£¼ê³  ë¦¬í”„ ë…¸ë“œ íƒìƒ‰.

`queue.append(i)`ëŠ” queueì— ì¸ìë¥¼ ì¶”ê°€í•¨ìœ¼ë¡œì¨ ë‹¤ì‹œ íƒìƒ‰ì„ ì§„í–‰í•˜ê¸° ìœ„í•œ ë°©ë²•.

ì´ê²Œ ì‚¬ì‹¤ìƒ BFSì˜ í•µì‹¬ì¼ ìˆ˜ë„..?

BFSì˜ ë™ì‘ ìˆœì„œëŠ” ë‹¤ìŒê³¼ ê°™ìŒ.

1. í ì •ì˜
2. íì— v ì¶”ê°€
3. vë¥¼ ë°©ë¬¸ê¸°ë¡ì— ì¶”ê°€
4. íê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ ë•Œê¹Œì§€ ë°˜ë³µ
5. íì˜ ê°€ì¥ ì²« ë²ˆì§¸ì— ìœ„ì¹˜í•œ ê°’ì„ popí•˜ì—¬ nodeì— ì €ì¥ (íƒìƒ‰í•˜ë ¤ëŠ” ë…¸ë“œ)
6. ì¶œë ¥í•˜ê³ 
7. nodeì— ëŒ€í•œ ë¦¬í”„ ë…¸ë“œ íƒìƒ‰ ì‹œì‘
8. ë¦¬í”„ ë…¸ë“œ ìˆœíšŒí•˜ë©´ì„œ ë°©ë¬¸ê¸°ë¡ì— ì—†ìœ¼ë©´?
9. ë°©ë¬¸ê¸°ë¡ì— ì¶”ê°€í•˜ê³ 
10. ë‹¤ì‹œ ê·¸ ë…¸ë“œë¥¼ íì— ì €ì¥

### ì¸ì ‘ë¦¬ìŠ¤íŠ¸ì˜ ì´í•´

`ì¸ì ‘ë¦¬ìŠ¤íŠ¸`ëŠ” ë…¸ë“œ(node)ì˜ ìˆ˜ê°€ ë§ê³ , ê°„ì„ (edge)ì˜ ê°œìˆ˜ê°€ ì ì„ ë•Œ ìœ ìš©í•¨.

ë¬´ë°©í–¥ ê·¸ë˜í”„(ì–‘ë°©í–¥ ê·¸ë˜í”„)ì¼ ê²½ìš° ë³´í†µ ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•¨.

```python
# ë¬´ë°©í–¥ ê·¸ë˜í”„ ì˜ˆì‹œ
1 â€” 2
|  /
3
```

```python
node, edge = map(int, input().split())

graph = [[] for _ in range(node)]

for _ in range(edge):
		start_node, end_node = map(int, input().split())
		graph[start_node].append(end_node)
		graph[end_node].append(start_node)
```

ê·¸ëŸ¼ `ì¸ì ‘í–‰ë ¬`ì€ ë¬´ì—‡ì¼ê¹Œ?

ì¸ì ‘í–‰ë ¬ì€ ë…¸ë“œì˜ ìˆ˜ì— ë¹„í•´ ê°„ì„ ì˜ ìˆ˜ê°€ ë§ì„ ë•Œ ìœ ìš©í•¨.

2ì°¨ì› ë°°ì—´ë¡œ ê·¸ë˜í”„ë¥¼ í‘œí˜„í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ, ë…¸ë“œ iì—ì„œ jë¡œ ê°€ëŠ” ê°„ì„ ì´ ìˆìœ¼ë©´ `1`, ì—†ìœ¼ë©´ `0`ìœ¼ë¡œ í•¨.

ë¬´ë°©í–¥ ê·¸ë˜í”„(ì–‘ë°©í–¥ ê·¸ë˜í”„)ì¼ ê²½ìš° ë³´í†µ ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•¨.

```python
node, edge = map(int, input().split())
graph = [[] for j in range(node) for i in range(node)]

for _ in range(edge):
		start_node, end_node = map(int, input().split())
		graph[start_node][end_node] = 1
		graph[end_node][start_node] = 1
	

# ì¸ì ‘í–‰ë ¬ì—ì„œ ngod mì—´ì˜ ì •ë³´ê°€ ì£¼ì–´ì§ˆ ê²½ìš°		
row, column, edge = map(int, input().split())
graph = [[] for j in range(column) for i in range(row)]

for _ in range(edge):
		start_node, end_node = map(int, input().split())
		graph[start_node][end_node] = 1
		graph[end_node][start_node] = 1
```

ìœ„ì—ì„œëŠ” ì „ë¶€ `ë¬´ë°©í–¥ ê·¸ë˜í”„`ì—ì„œë§Œì„ ê°€ì •í–ˆì„ ë•Œ ê²°ê³¼ì„.

ê·¸ëŸ¼ ë°©í–¥ì´ ìˆëŠ” ê·¸ë˜í”„ì—ì„œëŠ”?

`ì¸ì ‘í–‰ë ¬`ë¨¼ì € ë³´ì.

ì˜ˆë¥¼ ë“¤ì–´ i â†’ jë¡œ ê°€ëŠ” ê°„ì„ ì´ ìˆìœ¼ë©´ `1`ë¡œ í•˜ê³ , ë¬´ë°©í–¥ê³¼ ë‹¤ë¥´ê²Œ matrix[a][b] = 1ë§Œ í•´ì£¼ê³ , matrix[b][a]ëŠ” ê°’ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤.

ì¦‰, matrix[1][2] = 1ì€ 1 â†’ 2 ê°€ ì¡´ì¬í•œë‹¤ëŠ” ì˜ë¯¸ì„.

```python
matrix = [[0] * (n+1) for _ in range(n+1)]
edges = [(1,2), (1,3), (2,3)]

for a, b in edges:
		matrix[a][b] = 1
		
for row in matrix:
		print(row)
```

`ì¸ì ‘ë¦¬ìŠ¤íŠ¸`ëŠ” ê° ë…¸ë“œì—ì„œ ë‚˜ê°€ëŠ” ê°„ì„ ë§Œ ê¸°ë¡í•œë‹¤.

```python
1: [2, 3]
2: [3]
3: []
```

```python
n = 3
graph = [[] for _ in range(n+1)]
edges = [(1,2), (1,3), (2,3)]

for a, b in edges:
    graph[a].append(b)   # ë°©í–¥ ê·¸ë˜í”„ë‹ˆê¹Œ í•œìª½ë§Œ ì €ì¥
```

ê²°êµ­ ê·¸ë˜í”„ì˜ ë°©í–¥ì„± ì°¨ì´ëŠ” ë‹¤ìŒê³¼ ê°™ìŒ.

1. ì¸ì ‘í–‰ë ¬
    - `graph[a][b] = 1`, `graph[b][a] = 1` â†’ ì´ê²Œ ë¬´ë°©í–¥ì¼ ë•Œ.
    - `graph[a][b] = 1` â†’ ì´ê²Œ ë°©í–¥ ê·¸ë˜í”„ì¼ ë•Œ. (ë°˜ëŒ€ ê°„ì„  ë°©í–¥ìœ¼ë¡œ ê°’ì„ ì£¼ëŠ” ë¡œì§ ì œê±°)
2. ì¸ì ‘ë¦¬ìŠ¤íŠ¸
    - `graph[a].append(b)`, `graph[b].append(a)` â†’ ì´ê²Œ ë¬´ë°©í–¥ì¼ ë•Œ.
    - `graph[a].append(b)` â†’ ì´ê²Œ ë°©í–¥ ê·¸ë˜í”„ ì¼ ë•Œ. (ë°˜ëŒ€ ê°„ì„  ë°©í–¥ìœ¼ë¡œ ê°’ì„ ì£¼ëŠ” ë¡œì§ ì œê±°)

# íšŒê³ 

- [ ]  DFSì˜ ë™ì‘ ì›ë¦¬ ì´í•´í•˜ê¸°
- [ ]  BFSì˜ ë™ì‘ ì›ë¦¬ ì´í•´í•˜ê¸°
- [ ]  ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ëŠ” ì–´ë–»ê²Œ êµ¬í˜„í•˜ì§€?
- [ ]  ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ì™€ ì¸ì ‘ í–‰ë ¬ì˜ ì°¨ì´?
- [ ]  ê·¸ë˜í”„ì˜ ë°©í–¥ì„± ìœ ë¬´ì— ë”°ë¥¸ ì¸ì ‘ í–‰ë ¬ê³¼ ì¸ì ‘ ë¦¬ìŠ¤íŠ¸?