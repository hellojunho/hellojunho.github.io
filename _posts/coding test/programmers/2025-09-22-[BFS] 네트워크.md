---
layout: single
title: "ğŸ“˜[BFS] ë„¤íŠ¸ì›Œí¬"
toc: true
toc_sticky: true
toc_label: "ëª©ì°¨"
categories: programmers
excerpt:
tag: [python, algorithms, stack, queue, dfs, bfs]
---


# ë¬¸ì œ

https://school.programmers.co.kr/learn/courses/30/lessons/43162

### **ë¬¸ì œ ì„¤ëª…**

ë„¤íŠ¸ì›Œí¬ë€ ì»´í“¨í„° ìƒí˜¸ ê°„ì— ì •ë³´ë¥¼ êµí™˜í•  ìˆ˜ ìˆë„ë¡ ì—°ê²°ëœ í˜•íƒœë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì»´í“¨í„° Aì™€ ì»´í“¨í„° Bê°€ ì§ì ‘ì ìœ¼ë¡œ ì—°ê²°ë˜ì–´ìˆê³ , ì»´í“¨í„° Bì™€ ì»´í“¨í„° Cê°€ ì§ì ‘ì ìœ¼ë¡œ ì—°ê²°ë˜ì–´ ìˆì„ ë•Œ ì»´í“¨í„° Aì™€ ì»´í“¨í„° Cë„ ê°„ì ‘ì ìœ¼ë¡œ ì—°ê²°ë˜ì–´ ì •ë³´ë¥¼ êµí™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì»´í“¨í„° A, B, CëŠ” ëª¨ë‘ ê°™ì€ ë„¤íŠ¸ì›Œí¬ ìƒì— ìˆë‹¤ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì»´í“¨í„°ì˜ ê°œìˆ˜ n, ì—°ê²°ì— ëŒ€í•œ ì •ë³´ê°€ ë‹´ê¸´ 2ì°¨ì› ë°°ì—´ computersê°€ ë§¤ê°œë³€ìˆ˜ë¡œ ì£¼ì–´ì§ˆ ë•Œ, ë„¤íŠ¸ì›Œí¬ì˜ ê°œìˆ˜ë¥¼ return í•˜ë„ë¡ solution í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ì‹œì˜¤.

### ì œí•œì‚¬í•­

- ì»´í“¨í„°ì˜ ê°œìˆ˜ nì€ 1 ì´ìƒ 200 ì´í•˜ì¸ ìì—°ìˆ˜ì…ë‹ˆë‹¤.
- ê° ì»´í“¨í„°ëŠ” 0ë¶€í„°Â `n-1`ì¸ ì •ìˆ˜ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.
- ië²ˆ ì»´í“¨í„°ì™€ jë²ˆ ì»´í“¨í„°ê°€ ì—°ê²°ë˜ì–´ ìˆìœ¼ë©´ computers[i][j]ë¥¼ 1ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.
- computer[i][i]ëŠ” í•­ìƒ 1ì…ë‹ˆë‹¤.

### ì…ì¶œë ¥ ì˜ˆ

| n | computers | return |
| --- | --- | --- |
| 3 | [[1, 1, 0], [1, 1, 0], [0, 0, 1]] | 2 |
| 3 | [[1, 1, 0], [1, 1, 1], [0, 1, 1]] | 1 |


# ë‹µì•ˆ

```python
def BFS(n, computers, com, visited):
    from collections import deque
    queue = deque([com])
    while queue:
        v = queue.popleft()
        visited[v] = True
        for c in range(n):
            if v != c and computers[v][c] == 1:
                if visited[c] == False:
                    queue.append(c)

def solution(n, computers):
    answer = 0
    visited = [ False for _ in range(n)]
    for com in range(n):
        if visited[com] == False:
            BFS(n, computers, com, visited)
            answer += 1
    return answer

```


# í’€ì´

DFSê°€ í•œ ë†ˆë§Œ íŒ¨ëŠ” ë°©ì‹ì´ë¼ë©´, BFSëŠ” í•œ ë†ˆì”© ë•Œë ¤ê°€ë©´ì„œ í‘¸ëŠ” ë°©ì‹ì„.

BFSì˜ ë™ì‘ ìˆœì„œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

```python
def BFS(n, computers, com, visited):
    from collections import deque
    queue = deque([com])
    while queue:
        v = queue.popleft()
        visited[v] = True
        for c in range(n):
            if v != c and computers[v][c] == 1:
                if visited[c] == False:
                    queue.append(c)
```

1. `queue`ë¥¼ ì„ ì–¸í•¨.
2. queueê°€ ì¡´ì¬í•˜ì§€ ì•Šê²Œ ë  ë•Œê¹Œì§€ ë°˜ë³µ.
3. queueì— ì €ì¥í–ˆë˜ ê°’ ì¤‘ ê°€ì¥ ì²« ë²ˆì§¸ ê°’ì„ êº¼ëƒ„.
4. ë°©ë¬¸ê¸°ë¡ì— í•´ë‹¹ ê°’ì— ëŒ€í•œ ì •ë³´ë¥¼ Trueë¡œ ë°”ê¿ˆ.
5. n â†’ 0, 1, 2, â€¦ n-1 ê¹Œì§€ ìˆœíšŒ (computersì˜ index)
6. v ê°€ ìˆœíšŒí•œ ê°’(c)ê³¼ ê°™ì§€ ì•Šìœ¼ë©´ì„œ, computers[v][c] == 1ì´ë©´?
7. cì— ëŒ€í•œ ë°©ë¬¸ê¸°ë¡ ì¡°íšŒ â†’ Falseë©´?
8. queueì— cë¥¼ ì €ì¥í•´ì„œ ë‹¤ì‹œ ë°˜ë³µ

*BFSì˜ ì‹¤í–‰ ìˆœì„œë¥¼ ê¸¸ì§€ë§Œ ìì„¸í•˜ê²Œ ë‹¤ì‹œ í•´ë³´ë©´?? (n=3, computers=[[1, 1, 0], [1, 1, 0], [0, 0, 1]] ì¼ ë•Œë§Œ ê°€ì •*

```python
n = 3
computers = [
  [1, 1, 0],
  [1, 1, 0],
  [0, 0, 1]
]
```

ì´ëŸ° ìƒí™©ì„.

ì¦‰, 0 â†” 1 ì—°ê²°, 2ëŠ” ìê¸° ìì‹ ë§Œ ì—°ê²°ëœ ë…ë¦½ ë…¸ë“œ.

`solution`ì—ì„œ `for com in range(n)`ë¥¼ í•˜ë¯€ë¡œ `com=0`ë¶€í„° ì‹œì‘.

1. ì‹œì‘ (com = 0)
    - visited = [False, False, False]
    - BFS ì‹œì‘: queue = [0]
        
        ```python
        queue = [0]
        visited = [False, False, False]
        ```
        
2. pop (0 êº¼ëƒ„)
    - v = queue.popleft() â†’ v = 0
    - ë°©ë¬¸ì²˜ë¦¬ â†’ visited[0] = True
        
        ```python
        queue = []
        visited = [True, False, False]
        ```
        
3. forë¬¸ ì‹¤í–‰
    - computers[0] = [1, 1, 0]
    - c=1 ì—°ê²°ë˜ì–´ ìˆê³ , ì•„ì§ ë°©ë¬¸í•˜ì§€ ì•Šì•˜ìŒ.
    - queue.append(1) ìˆ˜í–‰
        
        ```python
        queue = [1]
        ```
        
4. whileë¬¸ ìˆ˜í–‰ - pop (1 êº¼ëƒ„)
    - v = queue.popleft() â†’ v = 1
    - ë°©ë¬¸ì²˜ë¦¬ â†’ visited[1] = True
        
        ```python
        queue = []
        visited = [True, True, False]
        ```
        
5. forë¬¸ ì‹¤í–‰
    - computers[1] = [1, 1, 0]
    - c=0ì€ ì´ë¯¸ ë°©ë¬¸í–ˆìŒ â†’ ë¬´ì‹œí•˜ê³  ë„˜ì–´ê°
    - c=2ëŠ” ì—°ê²°ì´ ì•ˆë˜ì–´ìˆìŒ (computers[0][2] == 0) â†’ ì•„ë¬´ëŸ° ì¶”ê°€ ë™ì‘ ìˆ˜í–‰ ì•ˆí•¨
        
        ```python
        queue = []
        visited = [True, True, False]
        ```
        
6. whileë¬¸ ìˆ˜í–‰ â†’ ì´ì „ ë‹¨ê³„ì—ì„œ queueì— ì•„ë¬´ ê°’ë„ ì•ˆë„£ì–´ ë¹ˆ ìƒíƒœì„
    
    ```python
    queue = []
    visited = [True, True, False]
    ```
    
    - BFS ë â†’ 0ë²ˆ ì»´í“¨í„°ë¥¼ ì‹œì‘ìœ¼ë¡œ í•œ ì—°ê²°ëœ ë„¤íŠ¸ì›Œí¬ íƒìƒ‰ ì™„ë£Œ
    - answer += 1
7. ë‹¤ìŒ com = 1
    - com = 0 ë‹¨ê³„ì—ì„œ `visited[1] = True`ë¡œ ì„¤ì •ë¨.
    - `solution` ë‹¨ê³„ì—ì„œ visited[1] = Trueì´ë¯€ë¡œ ë„˜ì–´ê°.
        
        ```python
        for com in range(n):
            if visited[com] == False:
                BFS(n, computers, com, visited)
                answer += 1
        ```
        
8. ë‹¤ìŒ com = 2
    
    ```python
    visited = [True, True, False]
    ```
    
    - `visited[2] = False`ì´ë¯€ë¡œ BFS ì‹œì‘
    
    ```python
    queue = [2]
    visited = [True, True, False]
    ```
    
9. pop (2 êº¼ëƒ„)
    - queue.popleft() â†’ v = 2
    - visited[2] = True ìˆ˜í–‰
        
        ```python
        queue = []
        visited = [True, True, True]
        ```
        
10. forë¬¸ ìˆ˜í–‰
    - computers[2] = [0, 0, 1] â†’ ìê¸° ìì‹ ë°–ì— ì—†ìŒ
        
        ```python
        for c in range(n): # v = 2
        		if v != c and computers[v][c] == 1: # computers[2][2]ë§Œ 1ì„
        		    if visited[c] == False: # visited[0], visited[1], visited[2] ëª¨ë‘ True
        		        queue.append(c)
        ```
        
    - ì—¬ê¸°ì„œ ê±¸ë¦¼ â†’ BFS ì¢…ë£Œ
        - `computers[2][2]ë§Œ 1`ì´ë¯€ë¡œ c=2ì¼ ë•Œë§Œ ì²« ë²ˆì§¸ ifë¬¸ í†µê³¼
        - `visited[2] = True`ì´ë¯€ë¡œ ë‘ ë²ˆì§¸ if ë¬¸ì—ì„œ íƒˆë½
        - BFS ì¢…ë£Œ
        - answer += 1


# íšŒê³ 

- [ ]  ë™ì‘ ìˆœì„œì— ëŒ€í•´ í•˜ë‚˜í•˜ë‚˜ ì ìœ¼ë©´ì„œ í•˜ì!